<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="default" extends="struts-default">
        <result-types>
            <result-type name="tiles" class="org.apache.struts2.views.tiles.TilesResult" default="true" />
        </result-types>

        <interceptors>
            <interceptor class="de.nordakademie.iaa.studentadmin.interceptors.LoginInterceptor" name="loginInterceptor">
            </interceptor>
            <interceptor-stack name="loginStack">
                <interceptor-ref name="loginInterceptor" />
                <interceptor-ref name="defaultStack" />
            </interceptor-stack>
        </interceptors>

        <default-interceptor-ref name="loginStack" />

        <global-results>
            <result name="login">loginForm</result>
        </global-results>

        <action name="showMainPage" class="de.nordakademie.iaa.studentadmin.action.CountDatabaseEntries">
            <result>mainPage</result>
        </action>

        <action name="showApplicantList" class="de.nordakademie.iaa.studentadmin.action.ShowApplicantListAction">
            <result>applicantTable</result>
        </action>

        <action name="addApplicant">
            <result>applicantForm</result>
        </action>

        <action name="cancelApplicant">
            <result type="redirectAction">showApplicantList</result>
        </action>

        <action name="cancelStudent">
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="cancelAlumni">
            <result type="redirectAction">showAlumniList</result>
        </action>

        <action name="cancelCentury">
            <result type="redirectAction">showCenturyList</result>
        </action>

        <action name="cancelCompany">
            <result type="redirectAction">showCompanyList</result>
        </action>

        <action name="loadApplicant" class="de.nordakademie.iaa.studentadmin.action.ApplicantAction"
                method="loadApplicant">
            <result name="input" type="chain">showApplicantList</result>
            <result>applicantForm</result>
        </action>

        <action name="saveApplicant" class="de.nordakademie.iaa.studentadmin.action.ApplicantAction"
                method="saveApplicant">
            <result name="input">applicantForm</result>
            <result type="redirectAction">showApplicantList</result>
        </action>

        <action name="deleteApplicant" class="de.nordakademie.iaa.studentadmin.action.ApplicantAction"
                method="deleteApplicant">
            <result name="input" type="chain">showApplicantList</result>
            <result type="redirectAction">showApplicantList</result>
        </action>

        <action name="showStudentList" class="de.nordakademie.iaa.studentadmin.action.ShowStudentListAction"
                method="listEnrolledStudents">
            <result>studentTable</result>
        </action>

        <action name="showAlumniList" class="de.nordakademie.iaa.studentadmin.action.ShowStudentListAction"
                method="listAlumni">
            <result>alumniTable</result>
        </action>

        <action name="enrollApplicant" class="de.nordakademie.iaa.studentadmin.action.EnrollApplicantAction"
                method="loadApplicant">
            <result name="input" type="chain">showApplicantList</result>
            <result>applicantToStudentForm</result>
        </action>

        <action name="saveStudent" class="de.nordakademie.iaa.studentadmin.action.StudentAction" method="saveStudent">
            <result name="input">studentForm</result>
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="addStudent" class="de.nordakademie.iaa.studentadmin.action.StudentAction">
            <result>newStudentForm</result>
        </action>

        <action name="loadStudent" class="de.nordakademie.iaa.studentadmin.action.StudentAction" method="loadStudent">
            <result name="input" type="chain">showStudentList</result>
            <result name="success">studentForm</result>
        </action>

        <action name="endActiveStudies" class="de.nordakademie.iaa.studentadmin.action.StudentAction"
                method="endActiveStudies">
            <result name="input" type="chain">showStudentList</result>
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="exmatriculateStudent" class="de.nordakademie.iaa.studentadmin.action.StudentAction"
                method="exmatriculateStudent">
            <result name="input" type="chain">showStudentList</result>
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="saveNewStudent" class="de.nordakademie.iaa.studentadmin.action.StudentAction"
                method="saveNewStudent">
            <result name="input">newStudentForm</result>
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="saveApplicantToStudent" class="de.nordakademie.iaa.studentadmin.action.EnrollApplicantAction"
                method="enrollApplicant">
            <result name="input">applicantToStudentForm</result>
            <result type="redirectAction">showStudentList</result>
        </action>

        <action name="saveCompany" class="de.nordakademie.iaa.studentadmin.action.CompanyAction" method="saveCompany">
            <result name="input">companyForm</result>
            <result type="redirectAction">showCompanyList</result>
        </action>

        <action name="showAdminArea">
            <result>adminArea</result>
        </action>

        <action name="showCenturyList" class="de.nordakademie.iaa.studentadmin.action.CenturyAction" method="listAll">
            <result>centuryList</result>
        </action>

        <action name="showCompanyList" class="de.nordakademie.iaa.studentadmin.action.CompanyAction" method="listAll">
            <result>companyList</result>
        </action>

        <action name="loadAlumni" class="de.nordakademie.iaa.studentadmin.action.StudentAction" method="loadStudent">
            <result name="input" type="chain">showAlumniList</result>
            <result>alumniForm</result>
        </action>

        <action name="loadCompany" class="de.nordakademie.iaa.studentadmin.action.CompanyAction" method="loadCompany">
            <result name="input" type="chain">showCompanyList</result>
            <result>companyForm</result>
        </action>

        <action name="addCentury">
            <result>centuryForm</result>
        </action>

        <action name="addCompany">
            <result>companyForm</result>
        </action>

        <action name="downloadAttendanceList" class="de.nordakademie.iaa.studentadmin.action.CenturyAction" method="downloadCenturyList">
            <result name="input" type="stream">showCenturyList</result>
            <result name="success"  type="stream">
                <param name="contentType">application/vnd.ms-excel</param>
                <param name="inputName">fileInputStream</param>
                <param name="contentDisposition">attachment;filename="attendanceList.xls"</param>
                <param name="bufferSize">4096</param>
            </result>
        </action>

        <action name="saveCentury" class="de.nordakademie.iaa.studentadmin.action.CenturyAction"
                method="saveCentury">
            <result name="input">centuryForm</result>
            <result type="redirectAction">showCenturyList</result>
        </action>

        <action name="chooseManiplePage" class="de.nordakademie.iaa.studentadmin.action.ManipleAction" method="listAllManiple">
            <result>showManiplePage</result>
        </action>

        <action name="downloadResultList" class="de.nordakademie.iaa.studentadmin.action.ManipleAction" method="downloadResultList">
            <result name="input" type="stream">showManiplePage</result>
            <result name="success"  type="stream">
                <param name="contentType">application/vnd.ms-excel</param>
                <param name="inputName">fileInputStream</param>
                <param name="contentDisposition">attachment;filename="resultList.xls"</param>
                <param name="bufferSize">4096</param>
            </result>
        </action>

        <action name="loginUser" class="de.nordakademie.iaa.studentadmin.action.LoginAction" method="login">
            <interceptor-ref name="defaultStack" />
            <result name="success" type="redirectAction">homeAction</result>
            <result name="login">loginForm</result>
        </action>

        <action name="homeAction" class="de.nordakademie.iaa.studentadmin.action.LoginAction" method="home">
            <result name="login">loginForm</result>
            <result type="redirectAction">showMainPage</result>
        </action>

        <action name="logOut" class="de.nordakademie.iaa.studentadmin.action.LoginAction" method="logOut">
            <result>loginForm</result>
        </action>
    </package>
</struts>